(function(){"use strict";var e={6827:function(e,t,r){var n=r(5130),i=r(6768);const o={id:"app"},a={key:0},s={key:1};function l(e,t,r,n,l,u){const c=(0,i.g2)("ImageUploader"),d=(0,i.g2)("PredictionResults");return(0,i.uX)(),(0,i.CE)("div",o,[t[0]||(t[0]=(0,i.Lk)("header",null,[(0,i.Lk)("h1",null,"Pomegranate Disease Detector")],-1)),(0,i.Lk)("main",null,[l.predictionResult?((0,i.uX)(),(0,i.CE)("div",s,[(0,i.bF)(d,{result:l.predictionResult,onReset:u.resetAnalysis},null,8,["result","onReset"])])):((0,i.uX)(),(0,i.CE)("div",a,[(0,i.bF)(c,{onPredictionResult:u.handleResult},null,8,["onPredictionResult"])]))]),t[1]||(t[1]=(0,i.Lk)("footer",null,[(0,i.Lk)("p",null,"© 2025 Pomegranate Disease Detector")],-1))])}var u=r(4232);const c={class:"uploader-container"},d={key:0,class:"upload-prompt"},p={key:1,class:"file-preview"},f=["src"],g=["disabled"],v={key:0,class:"loader"},m={key:1,class:"error-message"};function h(e,t,r,o,a,s){return(0,i.uX)(),(0,i.CE)("div",c,[t[6]||(t[6]=(0,i.Lk)("h2",null,"Upload Pomegranate Image",-1)),(0,i.Lk)("div",{class:"upload-area",onClick:t[1]||(t[1]=(...e)=>s.triggerFileInput&&s.triggerFileInput(...e)),onDragover:t[2]||(t[2]=(0,n.D$)((()=>{}),["prevent"])),onDrop:t[3]||(t[3]=(0,n.D$)(((...e)=>s.onFileDrop&&s.onFileDrop(...e)),["prevent"]))},[(0,i.Lk)("input",{type:"file",ref:"fileInput",onChange:t[0]||(t[0]=(...e)=>s.onFileSelected&&s.onFileSelected(...e)),accept:"image/jpeg,image/png,image/jpg",style:{display:"none"}},null,544),a.selectedFile?((0,i.uX)(),(0,i.CE)("div",p,[(0,i.Lk)("img",{src:a.filePreview,alt:"Preview",class:"preview-image"},null,8,f),(0,i.Lk)("p",null,(0,u.v_)(a.selectedFile.name),1)])):((0,i.uX)(),(0,i.CE)("div",d,t[5]||(t[5]=[(0,i.Lk)("i",{class:"upload-icon"},"📁",-1),(0,i.Lk)("p",null,"Click to browse or drag and drop an image",-1)])))],32),(0,i.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>s.uploadImage&&s.uploadImage(...e)),disabled:!a.selectedFile||a.isLoading,class:"upload-button"},(0,u.v_)(a.isLoading?"Processing...":"Analyze Image"),9,g),a.isLoading?((0,i.uX)(),(0,i.CE)("div",v)):(0,i.Q3)("",!0),a.error?((0,i.uX)(),(0,i.CE)("div",m,(0,u.v_)(a.error),1)):(0,i.Q3)("",!0)])}var k=r(4373);const y="http://localhost:5000";class b{uploadImage(e){const t=new FormData;return t.append("file",e),k.A.post(`${y}/predict`,t,{headers:{"Content-Type":"multipart/form-data"}})}}var L=new b,F={name:"ImageUploader",data(){return{selectedFile:null,filePreview:null,isLoading:!1,error:null}},methods:{triggerFileInput(){this.$refs.fileInput.click()},onFileSelected(e){const t=e.target.files[0];t&&this.processFile(t)},onFileDrop(e){const t=e.dataTransfer.files[0];t&&t.type.match("image.*")?this.processFile(t):this.error="Please drop an image file"},processFile(e){this.selectedFile=e,this.error=null;const t=new FileReader;t.onload=e=>{this.filePreview=e.target.result},t.readAsDataURL(e)},async uploadImage(){if(this.selectedFile){this.isLoading=!0,this.error=null;try{const e=await L.uploadImage(this.selectedFile);this.$emit("prediction-result",e.data)}catch(e){console.error("Upload error:",e),this.error=e.response?.data?.error||"Failed to process image"}finally{this.isLoading=!1}}}}},P=r(1241);const w=(0,P.A)(F,[["render",h],["__scopeId","data-v-75e1ebca"]]);var C=w;const I={key:0,class:"results-container"},R={class:"result-card"},_={class:"result-header"},D={class:"confidence-badge"},O={class:"result-details"},E={key:0},j={key:1};function A(e,t,r,n,o,a){return r.result?((0,i.uX)(),(0,i.CE)("div",I,[t[1]||(t[1]=(0,i.Lk)("h2",null,"Prediction Results",-1)),(0,i.Lk)("div",R,[(0,i.Lk)("div",_,[(0,i.Lk)("h3",null,(0,u.v_)(a.formatDiseaseName(r.result.prediction.disease)),1),(0,i.Lk)("div",D,(0,u.v_)(r.result.prediction.confidence.toFixed(2))+"% Confidence ",1)]),(0,i.Lk)("div",O,["Healthy"===r.result.prediction.disease?((0,i.uX)(),(0,i.CE)("p",E," Good news! Your pomegranate appears to be healthy. ")):((0,i.uX)(),(0,i.CE)("p",j," Your pomegranate may have "+(0,u.v_)(a.formatDiseaseName(r.result.prediction.disease))+". Please take appropriate measures. ",1))]),(0,i.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("reset")),class:"reset-button"}," Analyze Another Image ")])])):(0,i.Q3)("",!0)}var X={name:"PredictionResults",props:{result:Object},methods:{formatDiseaseName(e){return e.replace(/_/g," ")}}};const S=(0,P.A)(X,[["render",A],["__scopeId","data-v-1dc9869a"]]);var x=S,T={name:"App",components:{ImageUploader:C,PredictionResults:x},data(){return{predictionResult:null}},methods:{handleResult(e){this.predictionResult=e,console.log("Prediction received:",e)},resetAnalysis(){this.predictionResult=null}}};const U=(0,P.A)(T,[["render",l]]);var $=U;(0,n.Ef)($).mount("#app")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,n,i,o){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],o=e[c][2];for(var s=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(s=!1,o<a&&(a=o));if(s){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,i,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,a=n[0],s=n[1],l=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(l)var c=l(r)}for(t&&t(n);u<a.length;u++)o=a[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},n=self["webpackChunkharvestgnosis_frontend"]=self["webpackChunkharvestgnosis_frontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(6827)}));n=r.O(n)})();
//# sourceMappingURL=app.db745028.js.map